<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<h1 style="color:green">
    JALLA
</h1>

<canvas id="GFG" width="600" height="400"
        style="border: 2px solid black">
</canvas>

<script>
    var canvas = document.getElementById("GFG");
    var context = canvas.getContext("2d");


    ////////////////////////////////////////Functions////////////////////////////////////////
    function gradient(a, b) {
        return (b.y - a.y) / (b.x - a.x);
    }


    /**
     * Calibrates a curved line from the points.
     * @param points Array of points.
     * @param f Calibrating curve value.
     * @param t Calibrating curve value.
     * @param useGradient Use gradient bool.
     */
    function bzCurve(points, f, t, useGradient) {
        //Default if not set.
        if (typeof (f) == 'undefined') f = 0.3;
        if (typeof (t) == 'undefined') t = 0.6;

        context.beginPath();
        context.moveTo(points[0].x, points[0].y);

        var m = 0;
        var dx1 = 0;
        var dy1 = 0;

        var preP = points[0];

        for (var i = 1; i < points.length; i++) {

            var curP = points[i];
            var nexP = points[i + 1];

            if (nexP) {
                if (useGradient) {
                    m = gradient(preP, nexP);
                }
                dy2 = (nexP.y - curP.y) * -f;
                dx2 = dy2 * m * t;
            } else {
                dx2 = 0;
                dy2 = 0;
            }

            context.bezierCurveTo(
                preP.x - dx1, preP.y - dy1
                , curP.x + dx2, curP.y + dy2
                , curP.x, curP.y);

            dx1 = dx2;
            dy1 = dy2;

            preP = curP;
        }

        context.stroke();
    }

    /**
     * Loops through array of points and draw them to the canvas.
     * @param points Array containing points.
     * @param color Color on the points.
     * @param size Size of the points.
     */
    function drawPoints(points, color, size) {

        for (var i = 0; i < points.length; i++) {
            context.fillStyle = color;
            context.beginPath();
            context.arc(points[i].x, points[i].y, size, 0, Math.PI * 2, true);
            context.closePath();
            context.fill();
        }
    }

    /**
     * Generate points with random locations.
     * @param points Array to store points.
     * @param amountOfPoints Amount of points generated.
     */
    function generatePoints(points, amountOfPoints) {
        // Start at middle bottom of canvas.
        var Y = 400;
        var X = 300;

        // Control the length of Y.
        var depth = 60;
        var width = 10;
        var multiplier = 10;
        var depthStepReduction = 4;

        for (var i = 0; i < amountOfPoints; i++) {
            p = {x: X, y: Y};
            points.push(p);

            if (i % 2 === 0) {
                X += width * Math.floor((Math.random() * (multiplier - 2)) + 2);
            } else {
                X -= width * Math.floor((Math.random() * (multiplier - 2)) + 2);
            }
            Y = Y - depth;
            depth -= depthStepReduction;
        }
    }

    ///////////////////////////////////Variables/FunctionCalls///////////////////////////////////

    function drawMap() {
        var points = [];

        // Generate the points based on amountOfPoints.
        generatePoints(points, 10);

        // Draw smooth line.
        context.setLineDash([0]);
        context.lineWidth = 3;
        context.strokeStyle = "black";
        bzCurve(points, 0.5, 0.1, false);

        // Draw points
        drawPoints(points, 'red', 3);
    }

    drawMap();

</script>
</body>
</html>

